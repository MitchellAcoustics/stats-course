{
  "hash": "5f6bf7ed51539373595b33e3e5fd899e",
  "result": {
    "markdown": "---\ntitle: \"Classification case study\"\nformat:\n  revealjs:\n    author: \"STAT 20: Introduction to Probability and Statistics\"\n    height: 900\n    width: 1600\n    theme: ../../assets/slides.scss\n    multiplex: false\n    transition: fade\n    slide-number: c\n    incremental: false\n    center: false\n    menu: false\n    highlight-style: github\n    progress: false\n    code-overflow: wrap\n    title-slide-attributes:\n      data-background-image: ../../assets/stat20-hex-bg.png\n      data-background-size: contain\n---\n\n\n\n## Agenda\n\n- Concept Questions\n- Cancer diagnosis lab\n\n\n\n# Concept Questions\n\n\n## Non-numeric data\n\nNot all data can be easily turned into predictors in an effective way.\n\n**Examples**:\n\n. . . \n\n- When each observation is a word\n    - python, cython, julia, C, R, ...\n    \n- When each observation is a snippet of DNA\n    - TTAA, TATA, TACGG, GGCC, TTTTAAAAGGGG, ...\n\nThese are examples of *string* data (sequence of characters)\n\n\n:::{.notes}\nThere are  ways of turning these into numeric data, for example, we could encode each word with a separate dummy variable.\nPeople familiar with word-embeddings in machine learning might have a fairly effective way of obtaining a very useful numerical vector representation of these kinds of data, but that's beyond this class.\n:::\n\n\n## Classification with non-numeric data\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div class=\"countdown\" id=\"timer_3035efb4\" data-update-every=\"1\" tabindex=\"0\" style=\"top:0;right:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">03</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n:::\n:::\n\n\n\nSuppose each observation comes with an additional categorical variable.\n\n- whether or not I used the word in the last week\n- whether or not the DNA was found in a patient with cancer\n\n. . . \n\n:::{.poll}\nCan I fit KNN to a classification dataset where the predictors are strings?\n:::\n\n\n## KNN with string kernels\n\n- To use KNN we only need to be able to quantify similarity\n\n. . .\n\n- We can quantify how similar two strings are with *edit distance*\n\n    - edit-distance(**python**, **cython**) = 1\n    \n    - edit-distance(**python**, **julia**) = 6\n    \n    - edit-distance(**TTAA**, **TATA**) = 2\n    \n    - edit-distance(**TTAA**, **TTTTAAAAGGGG**) = 8\n\n\n:::{.notes}\nEdit distance -- also known as *Levenshtein distance* -- is based on how may operations of insert/delete/substitute it takes to go from one string to another.\n:::\n\n\n## Linear regression prediction runtime\n\n\n**How many arithmetic operations does it take to compute a prediction for linear regression?**\n\n. . .\n\n$$\n\\widehat{y} = b_0 + b_1 \\cdot x_1 + \\dots + b_d \\cdot x_d\n$$\n\n. . .\n\n**2d** arithmetic operations\n\n    - One multiple per variable (d multiples)\n    - Add the d variable-coefficient products together with the intercept (d additions)\n\n\n## KNN prediction runtime\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div class=\"countdown\" id=\"timer_58d4802e\" data-update-every=\"1\" tabindex=\"0\" style=\"top:0;right:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">04</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n:::\n:::\n\n\n\nKNN prediction\n\n1. Compute distance between test point and each training point\n2. Find smallest K distances\n3. Closest K samples take a vote\n\n. . .\n\n\n:::{.poll}\nHow many arithmetic operations does it take to calculate the Euclidean distance between a test point and every training point?\n:::\n\n\n:::{.notes}\n\nEuclidean distance\n- d subtractions\n- d squares \n- d - 1 additions\n- 1 square root\n:::\n\n\n\n# Cancer diagnosis lab\n\n\n## Fine needle aspiration biopsy\n\n![](images/fine-needle-aspiration-biopsy.png){fig-align=center heigh=1000}\n\n:::{.notes}\nOften when someone is suspected to have cancer (e.g. a bump is found) a fine needle aspiration biopsy is taken to determine whether or not the growth is cancerous (malignant -- may grow dangerously out of control) or not (benign).\n:::\n\n\n<!-- https://www.medicinenet.com/fine-needle_aspiration_biopsy_of_the_thyroid/article.htm -->\n\n\n## Artificial intelligence in medicine\n\n- Automating certain diagnostic tasks can increase access to healthcare\n\n- Global shortage of pathologists, especially outside of wealthy healthcare systems\n    - Expert pathologists take years to be fully trained (4 year medical school + 4 year residency)\n\n\n:::{.notes}\nhttps://www.linkedin.com/pulse/how-ai-can-help-address-global-shortage-pathologists-colangelo/\n:::\n\n\n\n## Lab 6: breast cancer diagnosis  {.scrollable}\n\n- Samples are 568 biopsies\n    - Each biopsy has 30 features \n- Goal: classify biopsy as **benign** or **malignant**\n\n\n::: {layout-ncol=2}\n\n![](images/benign_fna.png){}\n\n![](images/malignant_fna.png){}\n:::\n\n\n:::{.notes}\nThe tissue is purple because it is stained with Hematoxylin and Eosin. These are purple and pink stains that make the tissue structure easier to see under a microscope.\n\nMost of the visible objects in these images are cell nuclei, not the full cell; the cytoplasm is mostly invisible on these images.\n\n(From https://stanfordhealthcare.org/medical-conditions/cancer/cancer.html): Tumors can be benign (noncancerous) or malignant (cancerous). Benign tumors tend to grow slowly and do not spread. Malignant tumors can grow rapidly, invade and destroy nearby normal tissues, and spread throughout the body.\n:::\n\n\n\n## Nuclear morphology\n\n\n- Morphology = what the cell looks like under a microscope\n    - size, shape, texture\n\n- Cells in malignant biopsies tend to\n    - be larger\n    - irregularly shaped\n    - highly variable\n\n- Only measure morphology of cell nucleus\n\n## 10 nuclear morphology features\n\n\n![](images/cell_features.png){fig-align=center height=800}\n\n:::{.notes}\nWe compute 10 morphological features for each cell nucleus in the biopsy image.\n:::\n\n\n\n\n\n## 30 biopsy features\n\n![](images/biopsy_features.png){fig-align=center height=800}\n\n\n:::{.notes}\nEach biopsy has 30 features; these come from computing 3 summary statistics (mean, max, standard deviation) of each of the 10 cell features to summarize the population of cells in the biopsy.\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/countdown-0.4.0/countdown.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/countdown-0.4.0/countdown.js\"></script>\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}