{
  "hash": "1c784a8a4970c5952f23b66a75d5629f",
  "result": {
    "markdown": "---\ntitle: \"Practice Problems\"\nsubtitle: \"Regression\"\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──\n✔ ggplot2 3.4.0      ✔ purrr   0.3.5 \n✔ tibble  3.1.8      ✔ dplyr   1.0.10\n✔ tidyr   1.2.1      ✔ stringr 1.4.1 \n✔ readr   2.1.2      ✔ forcats 0.5.1 \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n```\n:::\n\n```{.r .cell-code}\nlibrary(stat20data)\ndata(flights)\n```\n:::\n\n\n#### Question 1\n\nCreate a scatter plot of the relationship between distance traveled and average speed in miles per hour of every flight that left the bay area in 2020.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nflights <- flights %>%\n    mutate(avg_speed = distance / (air_time / 60))\n\nflights %>%\n    ggplot(aes(x = distance,\n               y = avg_speed)) +\n    geom_point()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 7592 rows containing missing values (`geom_point()`).\n```\n:::\n\n::: {.cell-output-display}\n![](handout_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n#### Question 2\n\nUse the `lm()` function to fit a linear model by least squares that predicts the average speed of the flight based on the distance and save it to `m1`. Recall the general form of arguments is `lm(y ~ x, data)`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm1 <- lm(avg_speed ~ distance, data = flights)\n```\n:::\n\n\n#### Question 3\n\nWhat is the equation of the linear model that you have fit?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm1\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = avg_speed ~ distance, data = flights)\n\nCoefficients:\n(Intercept)     distance  \n  351.37130      0.07822  \n```\n:::\n:::\n\n\npredicted-avg-speed = 351.4 + .078 \\* distance\n\n#### Question 4\n\nWhat average speed would does your model predict for a flight travelling 0 miles? 500 miles? 5000 miles? Which of these, if any, do you expect to be accurate and why?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnewx <- data.frame(distance = c(0, 500, 5000))\npredict(m1, newx)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n       1        2        3 \n351.3713 390.4826 742.4839 \n```\n:::\n\n```{.r .cell-code}\n351.4 + .078 * 5000\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 741.4\n```\n:::\n:::\n\n\n#### Question 5\n\nRemake your scatter plot but add a line representing your linear model by adding a layer with `geom_smooth(method = \"lm\")`. How could you modify your model to improve the predictions that it makes?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nflights %>%\n    filter(dest %in% c(\"HOU\", \"AUS\", \"DFW\")) %>%\n    ggplot(aes(x = distance,\n               y = avg_speed)) +\n    geom_point() +\n    geom_text(aes(label = dest))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 304 rows containing missing values (`geom_point()`).\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 304 rows containing missing values (`geom_text()`).\n```\n:::\n\n::: {.cell-output-display}\n![](handout_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\nWe could use a curved line instead of a straight one.\n",
    "supporting": [
      "handout_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}